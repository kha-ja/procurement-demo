<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Mack Demo - Coventry Lane Project</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --blue: #2563EB;
      --blue-light: #EFF6FF;
      --green: #16A34A;
      --green-light: #F0FDF4;
      --green-border: #BBF7D0;
      --bg: #F8FAFC;
      --card-bg: #FFFFFF;
      --text-primary: #0F172A;
      --text-secondary: #475569;
      --text-muted: #94A3B8;
      --border: #E2E8F0;
      --shadow: 0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.06);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg);
      min-height: 100vh;
      color: var(--text-primary);
      line-height: 1.5;
    }

    .container {
      max-width: 400px;
      margin: 0 auto;
      padding: 16px;
      padding-bottom: 100px;
    }

    /* Header */
    .header {
      text-align: center;
      margin-bottom: 20px;
    }

    .header-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-primary);
    }

    .header-subtitle {
      font-size: 13px;
      color: var(--text-secondary);
      margin-top: 2px;
    }

    /* Progress indicator */
    .progress {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin-bottom: 20px;
    }

    .progress-step {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--border);
      transition: all 0.3s;
    }

    .progress-step.active {
      background: var(--blue);
      width: 24px;
      border-radius: 4px;
    }

    .progress-step.completed {
      background: var(--green);
    }

    .step-label {
      font-size: 12px;
      color: var(--text-muted);
      text-align: center;
      margin-bottom: 16px;
    }

    /* Step containers */
    .step {
      display: none;
    }

    .step.active {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Email card */
    .email-card {
      background: var(--card-bg);
      border-radius: 12px;
      box-shadow: var(--shadow);
      margin-bottom: 16px;
      overflow: hidden;
    }

    .email-header {
      padding: 16px;
      border-bottom: 1px solid var(--border);
    }

    .email-meta {
      display: flex;
      align-items: flex-start;
      gap: 12px;
    }

    .email-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 16px;
      flex-shrink: 0;
    }

    .email-avatar.user {
      background: #8B5CF6;
      color: white;
    }

    .email-avatar.agent {
      background: var(--blue);
      color: white;
    }

    .email-info {
      flex: 1;
      min-width: 0;
    }

    .email-from {
      display: flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
    }

    .email-from-name {
      font-weight: 600;
      font-size: 15px;
    }

    .email-agent-badge {
      background: var(--blue);
      color: white;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 10px;
      font-weight: 600;
    }

    .email-to {
      font-size: 13px;
      color: var(--text-secondary);
      margin-top: 2px;
    }

    .email-date {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .email-subject {
      padding: 12px 16px;
      font-weight: 600;
      font-size: 15px;
      border-bottom: 1px solid var(--border);
      background: var(--bg);
    }

    .email-body {
      padding: 16px;
      font-size: 14px;
      color: var(--text-primary);
      white-space: pre-wrap;
    }

    .email-signature {
      margin-top: 16px;
      color: var(--text-secondary);
      font-size: 13px;
    }

    /* Attachments */
    .attachments {
      padding: 12px 16px;
      border-top: 1px solid var(--border);
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .attachment {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      background: var(--bg);
      border-radius: 8px;
      border: 1px solid var(--border);
      font-size: 13px;
    }

    .attachment-icon {
      width: 24px;
      height: 24px;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 9px;
      font-weight: 700;
      color: white;
    }

    .attachment-icon.pdf { background: #EF4444; }
    .attachment-icon.xls { background: #22C55E; }

    /* Summary table */
    .summary-table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0;
      font-size: 14px;
    }

    .summary-table th {
      text-align: left;
      padding: 8px 0;
      font-size: 11px;
      font-weight: 600;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      border-bottom: 1px solid var(--border);
    }

    .summary-table td {
      padding: 10px 0;
      border-bottom: 1px solid var(--border);
    }

    .summary-table tr:last-child td {
      border-bottom: none;
      font-weight: 600;
    }

    .summary-table .total-row td {
      padding-top: 12px;
      font-weight: 600;
      font-size: 15px;
    }

    /* "What I did" callout */
    .callout {
      background: var(--green-light);
      border: 1px solid var(--green-border);
      border-radius: 8px;
      padding: 14px;
      margin: 16px 0;
    }

    .callout-title {
      font-weight: 600;
      font-size: 13px;
      color: var(--green);
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .callout-body {
      font-size: 13px;
      color: var(--text-secondary);
      line-height: 1.6;
    }

    .callout-highlight {
      color: var(--green);
      font-weight: 500;
    }

    /* Delivery table */
    .delivery-table {
      width: 100%;
      border-collapse: collapse;
      margin: 12px 0;
      font-size: 14px;
    }

    .delivery-table td {
      padding: 8px 0;
      border-bottom: 1px solid var(--border);
    }

    .delivery-table td:first-child {
      font-weight: 600;
      color: var(--blue);
      width: 60px;
    }

    .delivery-table td:last-child {
      text-align: right;
      color: var(--text-secondary);
    }

    .delivery-table tr:last-child td {
      border-bottom: none;
    }

    /* Navigation */
    .nav-footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: var(--card-bg);
      border-top: 1px solid var(--border);
      padding: 12px 16px;
      display: flex;
      gap: 12px;
      justify-content: center;
    }

    .nav-btn {
      flex: 1;
      max-width: 180px;
      padding: 12px 20px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    .nav-btn.secondary {
      background: var(--bg);
      border: 1px solid var(--border);
      color: var(--text-secondary);
    }

    .nav-btn.secondary:hover {
      background: var(--border);
    }

    .nav-btn.primary {
      background: var(--blue);
      border: 1px solid var(--blue);
      color: white;
    }

    .nav-btn.primary:hover {
      background: #1D4ED8;
    }

    .nav-btn:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    /* Snackbar / Toast */
    .snackbar {
      position: fixed;
      bottom: 80px;
      left: 16px;
      right: 16px;
      max-width: 368px;
      margin: 0 auto;
      background: var(--text-primary);
      color: white;
      padding: 14px 16px;
      border-radius: 8px;
      font-size: 14px;
      display: none;
      align-items: center;
      gap: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 100;
    }

    .snackbar.show {
      display: flex;
      animation: slideUp 0.3s ease;
    }

    @keyframes slideUp {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .snackbar-icon {
      color: var(--green);
    }

    /* Sunroom bonus section */
    .bonus-section {
      margin-top: 24px;
      padding-top: 24px;
      border-top: 1px dashed var(--border);
      display: none;
    }

    .bonus-section.visible {
      display: block;
    }

    .bonus-trigger {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 12px;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 13px;
      color: var(--text-secondary);
      cursor: pointer;
      transition: all 0.2s;
      width: 100%;
    }

    .bonus-trigger:hover {
      background: var(--border);
      color: var(--text-primary);
    }

    .bonus-content {
      display: none;
      margin-top: 16px;
    }

    .bonus-content.expanded {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    .bonus-header {
      font-size: 13px;
      font-weight: 600;
      color: var(--text-secondary);
      margin-bottom: 12px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* Compact email for bonus */
    .email-card.compact .email-header {
      padding: 12px;
    }

    .email-card.compact .email-avatar {
      width: 32px;
      height: 32px;
      font-size: 13px;
    }

    .email-card.compact .email-from-name {
      font-size: 14px;
    }

    .email-card.compact .email-subject {
      padding: 10px 12px;
      font-size: 14px;
    }

    .email-card.compact .email-body {
      padding: 12px;
      font-size: 13px;
    }

    .email-card.compact .attachments {
      padding: 10px 12px;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <div class="header-title">Mack Demo</div>
      <div class="header-subtitle">Coventry Lane Project</div>
    </div>

    <!-- Progress indicator -->
    <div class="progress">
      <div class="progress-step active" data-step="1"></div>
      <div class="progress-step" data-step="2"></div>
      <div class="progress-step" data-step="3"></div>
    </div>

    <!-- Step 1: Request -->
    <div class="step active" id="step1">
      <div class="step-label">Step 1 of 3 — Dana sends a request</div>

      <div class="email-card">
        <div class="email-header">
          <div class="email-meta">
            <div class="email-avatar user">D</div>
            <div class="email-info">
              <div class="email-from">
                <span class="email-from-name">Dana</span>
              </div>
              <div class="email-to">to mack@procurement.ai</div>
              <div class="email-date">Feb 20, 9:14 AM</div>
            </div>
          </div>
        </div>
        <div class="email-subject">New project - 42 Coventry Lane, Windham NH</div>
        <div class="email-body">Hey Mack,

Got the final plans for our Coventry Lane build. Single family, 2,400 sq ft, standard foundation with 2-car garage.

Specs and materials list attached. Ground breaks March 15th, so I need foundation and framing materials delivered by March 10th.

Let me know what you find.<div class="email-signature">Dana
Sunrise Homes</div></div>
        <div class="attachments">
          <div class="attachment">
            <div class="attachment-icon pdf">PDF</div>
            <span>Coventry_Lane_Plans.pdf</span>
          </div>
          <div class="attachment">
            <div class="attachment-icon xls">XLS</div>
            <span>Materials_List.xlsx</span>
          </div>
        </div>
      </div>

      <!-- Mack's quick response (shown after "send") -->
      <div class="email-card" id="mack-ack" style="display: none;">
        <div class="email-header">
          <div class="email-meta">
            <div class="email-avatar agent">M</div>
            <div class="email-info">
              <div class="email-from">
                <span class="email-from-name">Mack</span>
                <span class="email-agent-badge">Agent</span>
              </div>
              <div class="email-to">to dana</div>
              <div class="email-date">Feb 20, 9:22 AM</div>
            </div>
          </div>
        </div>
        <div class="email-body">Got it. I pulled 127 items from your materials list across foundation, framing, and rough openings.

I'm reaching out to vendors in the southern NH area now. I'll have a recommendation for you in a few days.

— Mack</div>
      </div>
    </div>

    <!-- Step 2: Recommendation -->
    <div class="step" id="step2">
      <div class="step-label">Step 2 of 3 — Mack delivers a recommendation</div>

      <div class="email-card">
        <div class="email-header">
          <div class="email-meta">
            <div class="email-avatar agent">M</div>
            <div class="email-info">
              <div class="email-from">
                <span class="email-from-name">Mack</span>
                <span class="email-agent-badge">Agent</span>
              </div>
              <div class="email-to">to dana</div>
              <div class="email-date">Feb 27, 10:00 AM</div>
            </div>
          </div>
        </div>
        <div class="email-subject">Coventry Lane - Vendor Recommendation</div>
        <div class="email-body">Dana,

I got quotes from 8 vendors. Here's my recommendation for your March 10th delivery:

<table class="summary-table">
  <thead>
    <tr>
      <th>Category</th>
      <th>Vendor</th>
      <th style="text-align: right;">Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Foundation</td>
      <td>Footing First</td>
      <td style="text-align: right;">$6,975</td>
    </tr>
    <tr>
      <td>Framing</td>
      <td>Granite Grove</td>
      <td style="text-align: right;">$38,400</td>
    </tr>
    <tr>
      <td>Windows/Doors</td>
      <td>Pane & Panel</td>
      <td style="text-align: right;">$9,730</td>
    </tr>
    <tr class="total-row">
      <td colspan="2"><strong>TOTAL</strong></td>
      <td style="text-align: right;"><strong>$55,105</strong></td>
    </tr>
  </tbody>
</table>

<div class="callout">
  <div class="callout-title">
    <span>✓</span> What I did
  </div>
  <div class="callout-body">
    Over 4 days, I reached out to 9 vendors in southern NH. 8 responded with quotes. Pinnacle Pine had the lowest framing price but their LVL beams are backordered until March 18th—too late for your deadline. I negotiated with Granite Grove and got <span class="callout-highlight">free delivery (saved $350)</span> plus set up a <span class="callout-highlight">net-30 contractor account</span> for Sunrise Homes. All three vendors above can deliver before March 10th.
  </div>
</div>

Let me know if you want to proceed or adjust anything.

— Mack</div>
        <div class="attachments">
          <div class="attachment">
            <div class="attachment-icon xls">XLS</div>
            <span>Vendor_Comparison.xlsx</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Step 3: Confirmation -->
    <div class="step" id="step3">
      <div class="step-label">Step 3 of 3 — Dana approves, Mack confirms</div>

      <!-- Dana's approval -->
      <div class="email-card">
        <div class="email-header">
          <div class="email-meta">
            <div class="email-avatar user">D</div>
            <div class="email-info">
              <div class="email-from">
                <span class="email-from-name">Dana</span>
              </div>
              <div class="email-to">to mack</div>
              <div class="email-date">Feb 27, 10:45 AM</div>
            </div>
          </div>
        </div>
        <div class="email-body">Looks good. Go ahead and confirm all three.

Dana</div>
      </div>

      <!-- Mack's confirmation -->
      <div class="email-card">
        <div class="email-header">
          <div class="email-meta">
            <div class="email-avatar agent">M</div>
            <div class="email-info">
              <div class="email-from">
                <span class="email-from-name">Mack</span>
                <span class="email-agent-badge">Agent</span>
              </div>
              <div class="email-to">to dana</div>
              <div class="email-date">Feb 27, 11:15 AM</div>
            </div>
          </div>
        </div>
        <div class="email-subject">Coventry Lane - All Orders Confirmed</div>
        <div class="email-body">Done. All three orders confirmed:

<table class="delivery-table">
  <tr>
    <td>Mar 3</td>
    <td>Footing First</td>
    <td>$6,975</td>
  </tr>
  <tr>
    <td>Mar 6</td>
    <td>Granite Grove</td>
    <td>$38,400</td>
  </tr>
  <tr>
    <td>Mar 8</td>
    <td>Pane & Panel</td>
    <td>$9,730</td>
  </tr>
</table>

Invoices attached. I'll follow up if anything changes.

— Mack</div>
        <div class="attachments">
          <div class="attachment">
            <div class="attachment-icon pdf">PDF</div>
            <span>Invoice_FF-0892.pdf</span>
          </div>
          <div class="attachment">
            <div class="attachment-icon pdf">PDF</div>
            <span>Invoice_GG-41205.pdf</span>
          </div>
          <div class="attachment">
            <div class="attachment-icon pdf">PDF</div>
            <span>Invoice_PP-8847.pdf</span>
          </div>
        </div>
      </div>

      <!-- Sunroom bonus trigger -->
      <div class="bonus-section visible">
        <button class="bonus-trigger" id="bonusTrigger">
          <span>See how Mack handles scope changes</span>
          <span>→</span>
        </button>

        <div class="bonus-content" id="bonusContent">
          <div class="bonus-header">Two weeks later...</div>

          <!-- Dana's scope change request -->
          <div class="email-card compact">
            <div class="email-header">
              <div class="email-meta">
                <div class="email-avatar user">D</div>
                <div class="email-info">
                  <div class="email-from">
                    <span class="email-from-name">Dana</span>
                  </div>
                  <div class="email-to">to mack</div>
                  <div class="email-date">Mar 15, 9:30 AM</div>
                </div>
              </div>
            </div>
            <div class="email-subject">Coventry Lane - Sunroom Addition</div>
            <div class="email-body">Mack,

Client just approved an addition—12x16 sunroom off the back. Going to need additional framing lumber and 6 more windows (casement).

Can you check with Granite Grove and Pane & Panel? Need delivery by March 20th.

Dana</div>
          </div>

          <!-- Mack's quick turnaround -->
          <div class="email-card compact">
            <div class="email-header">
              <div class="email-meta">
                <div class="email-avatar agent">M</div>
                <div class="email-info">
                  <div class="email-from">
                    <span class="email-from-name">Mack</span>
                    <span class="email-agent-badge">Agent</span>
                  </div>
                  <div class="email-to">to dana</div>
                  <div class="email-date">Mar 16, 3:00 PM</div>
                </div>
              </div>
            </div>
            <div class="email-body">Dana,

Got quotes from both vendors:

<table class="delivery-table">
  <tr>
    <td style="width: 100px;">Framing</td>
    <td>Granite Grove</td>
    <td>$2,600</td>
  </tr>
  <tr>
    <td>Windows</td>
    <td>Pane & Panel</td>
    <td>$4,380</td>
  </tr>
</table>

<div class="callout" style="margin: 12px 0;">
  <div class="callout-body" style="font-size: 12px;">
    I went with triple-pane for the sunroom windows—better insulation for that much glass. <span class="callout-highlight">Free delivery</span> since we're existing customers. Both can deliver by March 18-20.
  </div>
</div>

— Mack</div>
          </div>

          <!-- Dana's quick approval -->
          <div class="email-card compact">
            <div class="email-header">
              <div class="email-meta">
                <div class="email-avatar user">D</div>
                <div class="email-info">
                  <div class="email-from">
                    <span class="email-from-name">Dana</span>
                  </div>
                  <div class="email-to">to mack</div>
                  <div class="email-date">Mar 16, 3:15 PM</div>
                </div>
              </div>
            </div>
            <div class="email-body">Good call on the triple-pane. Confirm both.

Dana</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Navigation footer -->
  <div class="nav-footer">
    <button class="nav-btn secondary" id="prevBtn" style="visibility: hidden;">
      <span>←</span> Back
    </button>
    <button class="nav-btn primary" id="nextBtn">
      Next <span>→</span>
    </button>
  </div>

  <!-- Snackbar -->
  <div class="snackbar" id="snackbar">
    <span class="snackbar-icon">✓</span>
    <span>Message sent</span>
  </div>

  <script>
    let currentStep = 1;
    const totalSteps = 3;
    let step1Sent = false;

    function updateUI() {
      // Update step visibility
      document.querySelectorAll('.step').forEach((step, i) => {
        step.classList.toggle('active', i + 1 === currentStep);
      });

      // Update progress dots
      document.querySelectorAll('.progress-step').forEach((dot, i) => {
        dot.classList.remove('active', 'completed');
        if (i + 1 < currentStep) dot.classList.add('completed');
        if (i + 1 === currentStep) dot.classList.add('active');
      });

      // Update nav buttons
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');

      prevBtn.style.visibility = currentStep === 1 ? 'hidden' : 'visible';

      if (currentStep === 1 && !step1Sent) {
        nextBtn.innerHTML = 'Send <span>→</span>';
      } else if (currentStep === totalSteps) {
        nextBtn.innerHTML = 'Done <span>✓</span>';
      } else {
        nextBtn.innerHTML = 'Next <span>→</span>';
      }
    }

    function showSnackbar() {
      const snackbar = document.getElementById('snackbar');
      snackbar.classList.add('show');
      setTimeout(() => {
        snackbar.classList.remove('show');
      }, 2000);
    }

    function goToStep(step) {
      if (step < 1 || step > totalSteps) return;
      currentStep = step;
      updateUI();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Next button
    document.getElementById('nextBtn').addEventListener('click', () => {
      if (currentStep === 1 && !step1Sent) {
        // First click on step 1: "send" the email
        step1Sent = true;
        document.getElementById('mack-ack').style.display = 'block';
        showSnackbar();
        updateUI();
        // Scroll to show Mack's response
        setTimeout(() => {
          document.getElementById('mack-ack').scrollIntoView({ behavior: 'smooth', block: 'center' });
        }, 300);
      } else if (currentStep < totalSteps) {
        goToStep(currentStep + 1);
      } else {
        // On last step, could restart or do nothing
        goToStep(1);
        step1Sent = false;
        document.getElementById('mack-ack').style.display = 'none';
        document.getElementById('bonusContent').classList.remove('expanded');
      }
    });

    // Prev button
    document.getElementById('prevBtn').addEventListener('click', () => {
      if (currentStep > 1) {
        goToStep(currentStep - 1);
      }
    });

    // Bonus section toggle
    document.getElementById('bonusTrigger').addEventListener('click', () => {
      const content = document.getElementById('bonusContent');
      const trigger = document.getElementById('bonusTrigger');

      if (content.classList.contains('expanded')) {
        content.classList.remove('expanded');
        trigger.innerHTML = '<span>See how Mack handles scope changes</span><span>→</span>';
      } else {
        content.classList.add('expanded');
        trigger.innerHTML = '<span>Hide scope change example</span><span>↑</span>';
        // Scroll to show bonus content
        setTimeout(() => {
          content.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 100);
      }
    });

    // Initialize
    updateUI();
  </script>
</body>
</html>
